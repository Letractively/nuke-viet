/*
Copyright (c) 2003-2011, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/

(function(){var a={scrolling:{'true':'yes','false':'no'},frameborder:{'true':'1','false':'0'}},b=CKEDITOR.tools.cssLength;function c(e){var h=this;var f=h instanceof CKEDITOR.ui.dialog.checkbox;if(e.hasAttribute(h.id)){var g=e.getAttribute(h.id);if(f)h.setValue(a[h.id]['true']==g.toLowerCase());else h.setValue(g);}};function d(e){var i=this;var f=i.getValue()==='',g=i instanceof CKEDITOR.ui.dialog.checkbox,h=i.getValue();if(f)e.removeAttribute(i.att||i.id);else if(g)e.setAttribute(i.id,a[i.id][h]);else e.setAttribute(i.att||i.id,h);};CKEDITOR.dialog.add('iframe',function(e){var f=e.lang.iframe,g=e.lang.common,h=e.plugins.dialogadvtab;return{title:f.title,minWidth:350,minHeight:260,onShow:function(){var k=this;k.fakeImage=k.iframeNode=null;var i=k.getSelectedElement();if(i&&i.data('cke-real-element-type')&&i.data('cke-real-element-type')=='iframe'){k.fakeImage=i;var j=e.restoreRealElement(i);k.iframeNode=j;k.setupContent(j);}},onOk:function(){var m=this;var i;if(!m.fakeImage)i=new CKEDITOR.dom.element('iframe');else i=m.iframeNode;var j={},k={};m.commitContent(i,j,k);var l=e.createFakeElement(i,'cke_iframe','iframe',true);l.setAttributes(k);l.setStyles(j);if(m.fakeImage){l.replace(m.fakeImage);e.getSelection().selectElement(l);}else e.insertElement(l);},contents:[{id:'info',label:g.generalTab,accessKey:'I',elements:[{type:'vbox',padding:0,children:[{id:'src',type:'text',label:g.url,required:true,validate:CKEDITOR.dialog.validate.notEmpty(f.noUrl),setup:c,commit:d}]},{type:'hbox',children:[{id:'width',type:'text',style:'width:100%',labelLayout:'vertical',label:g.width,validate:CKEDITOR.dialog.validate.htmlLength(g.invalidHtmlLength.replace('%1',g.width)),getValue:b,setup:function(i,j){c.apply(this,arguments);j&&this.setValue(j.getStyle('width'));},commit:function(i,j){d.apply(this,arguments);var k=this.getValue();k&&(j.width=k);}},{id:'height',type:'text',style:'width:100%',labelLayout:'vertical',label:g.height,validate:CKEDITOR.dialog.validate.htmlLength(g.invalidHtmlLength.replace('%1',g.height)),getValue:b,setup:function(i,j){c.apply(this,arguments);j&&this.setValue(j.getStyle('height'));},commit:function(i,j){d.apply(this,arguments);var k=this.getValue();k&&(j.height=k);}},{id:'align',type:'select','default':'',items:[[g.notSet,''],[g.alignLeft,'left'],[g.alignRight,'right'],[g.alignTop,'top'],[g.alignMiddle,'middle'],[g.alignBottom,'bottom']],style:'width:100%',labelLayout:'vertical',label:g.align,setup:function(i,j){c.apply(this,arguments);if(j){var k=j.getAttribute('align');
this.setValue(k&&k.toLowerCase()||'');}},commit:function(i,j,k){d.apply(this,arguments);if(this.getValue())k.align=this.getValue();}}]},{type:'hbox',widths:['50%','50%'],children:[{id:'scrolling',type:'checkbox',label:f.scrolling,setup:c,commit:d},{id:'frameborder',type:'checkbox',label:f.border,setup:c,commit:d}]},{type:'hbox',widths:['50%','50%'],children:[{id:'name',type:'text',label:g.name,setup:c,commit:d},{id:'title',type:'text',label:g.advisoryTitle,setup:c,commit:d}]},{id:'longdesc',type:'text',label:g.longDescr,setup:c,commit:d}]},h&&h.createAdvancedTab(e,{id:1,classes:1,styles:1})]};});})();
